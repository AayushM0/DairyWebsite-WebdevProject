<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>User Login / Signup - DairyShop</title>
  <link rel="stylesheet" href="styles.css"/>
  <link rel="stylesheet" href="dashboard.css"/>
  <style>
    .auth-wrap {
      display: grid; grid-template-columns: 1fr 1fr; gap: 16px;
    }
    .auth-card {
      background:#fff;border-radius:16px;box-shadow:0 4px 12px rgba(0,0,0,.12);
      padding:16px; display:flex; flex-direction:column; gap:12px;
    }
    .auth-card h3 { margin:0; }
    .auth-card label { font-weight:600; }
    .auth-card input {
      padding:10px;border:1px solid #ddd;border-radius:10px;outline:none;
    }
    .auth-card input:focus { border-color:#4CAF50; box-shadow:0 0 4px rgba(76,175,80,.3); }
    .auth-card button {
      padding:10px 14px;border:none;border-radius:10px;background:#4CAF50;color:#fff;font-weight:700;cursor:pointer;
    }
    .muted { color:#666; font-size:.9rem; }
    @media (max-width:900px){ .auth-wrap{ grid-template-columns:1fr; } }
  </style>
</head>
<body>
<div class="website-container">
  <div class="page-handler">
    <div class="shopname">
      <img src="./images/dairy.webp" alt="logo" class="shoplogo"/>
      <h3>DairyShop</h3>
    </div>
    <div class="pages">
      <a href="home.html">Home</a>
      <a href="index.html">Products</a>
      <a href="about.html">About</a>
      <a href="user-auth.html" class="active">Login</a>
      <a href="user-dashboard.html">Dashboard</a>
    </div>
  </div>

  <div class="content">
    <section class="hero"><h1>Login / Signup</h1></section>

    <div class="auth-wrap">
      <div class="auth-card">
        <h3>Login</h3>
        <label for="lemail">Email</label>
        <input id="lemail" type="email" placeholder="you@example.com"/>
        <label for="lpass">Password</label>
        <input id="lpass" type="password" placeholder="••••••••"/>
        <button id="loginBtn">Login</button>
        <p class="muted" id="lmsg"></p>
      </div>

      <div class="auth-card">
        <h3>Signup</h3>
        <label for="semail">Email</label>
        <input id="semail" type="email" placeholder="you@example.com"/>
        <label for="spass">Password</label>
        <input id="spass" type="password" placeholder="Create a password"/>
        <button id="signupBtn">Create Account</button>
        <p class="muted" id="smsg"></p>
      </div>
    </div>
  </div>
</div>

<script>
  // Super-light demo auth — no backend.
  const USERS_KEY = "dairy_users";
  function getUsers(){ return JSON.parse(localStorage.getItem(USERS_KEY) || "{}"); }
  function setUsers(u){ localStorage.setItem(USERS_KEY, JSON.stringify(u)); }

  document.getElementById("signupBtn").onclick = () => {
    const email = document.getElementById("semail").value.trim();
    const pass  = document.getElementById("spass").value.trim();
    const msg = document.getElementById("smsg");
    if(!email || !pass){ msg.textContent = "Email and password are required."; return; }
    const u = getUsers();
    if(u[email]){ msg.textContent = "Account already exists. Please login."; return; }
    u[email] = { email, pass };
    setUsers(u);
    msg.textContent = "Account created. You can login now.";
  };

  document.getElementById("loginBtn").onclick = () => {
    const email = document.getElementById("lemail").value.trim();
    const pass  = document.getElementById("lpass").value.trim();
    const msg = document.getElementById("lmsg");
    const u = getUsers();
    if(!u[email] || u[email].pass !== pass){ msg.textContent = "Invalid credentials."; return; }
    localStorage.setItem("dairy_logged_in", email);
    msg.textContent = "Logged in. Redirecting…";
    setTimeout(()=> location.href = "user-dashboard.html", 600);
  };
</script>
</body>
</html>
